{"remainingRequest":"/home/track/workplace/widget-iframe/node_modules/babel-loader/lib/index.js!/home/track/workplace/widget-iframe/node_modules/eslint-loader/index.js??ref--13-0!/home/track/workplace/widget-iframe/src/arch/widget/service.js","dependencies":[{"path":"/home/track/workplace/widget-iframe/src/arch/widget/service.js","mtime":1627557404860},{"path":"/home/track/workplace/widget-iframe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/track/workplace/widget-iframe/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/track/workplace/widget-iframe/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS90cmFjay93b3JrcGxhY2Uvd2lkZ2V0LWlmcmFtZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL3RyYWNrL3dvcmtwbGFjZS93aWRnZXQtaWZyYW1lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBodHRwIGZyb20gJy4uLy4uL3V0aWxzL2h0dHAnOwoKdmFyIFdpZGdldFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFdpZGdldFNlcnZpY2UoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2lkZ2V0U2VydmljZSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoV2lkZ2V0U2VydmljZSwgW3sKICAgIGtleTogImdldE9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T25lKHRva2VuKSB7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgcGF0aG5hbWU6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZQogICAgICAgIH0KICAgICAgfTsKICAgICAgcmV0dXJuIGh0dHAuZ2V0KCcvd2lkZ2V0LycgKyB0b2tlbiwgY29uZmlnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb3N0T3BlbkNvdW50ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHBvc3RPcGVuQ291bnRlcih0b2tlbikgewogICAgICByZXR1cm4gaHR0cC5wb3N0KCcvd2lkZ2V0L3Nob3cvJyArIHRva2VuKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb3N0UGFydGlhbEFuc3dlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zdFBhcnRpYWxBbnN3ZXIoc3VydmV5UHVibGljSGFzLCBhbnN3ZXJzKSB7CiAgICAgIHJldHVybiBodHRwLnBvc3QoJy9zdXJ2ZXkvcGFydGlhbC8nICsgc3VydmV5UHVibGljSGFzLCBhbnN3ZXJzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb3N0Q29tcGxldGVBbnN3ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHBvc3RDb21wbGV0ZUFuc3dlcihzdXJ2ZXlQdWJsaWNIYXMsIGFuc3dlcnMpIHsKICAgICAgcmV0dXJuIGh0dHAucG9zdCgnL3N1cnZleS8nICsgc3VydmV5UHVibGljSGFzLCBhbnN3ZXJzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjaGVja0N1c3RvbWVyUmVjdXJyZW5jZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tDdXN0b21lclJlY3VycmVuY2UodG9rZW4sIGN1c3RvbWVyKSB7CiAgICAgIHZhciBoZWFkZXJzID0gewogICAgICAgIHBhdGhuYW1lOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUKICAgICAgfTsKICAgICAgcmV0dXJuIGh0dHAucG9zdCgnL3dpZGdldC8nICsgdG9rZW4gKyAnL2NoZWNrJywgY3VzdG9tZXIsIGhlYWRlcnMpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFdpZGdldFNlcnZpY2U7Cn0oKTsKCmV4cG9ydCB7IFdpZGdldFNlcnZpY2UgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/home/track/workplace/widget-iframe/src/arch/widget/service.js"],"names":["http","WidgetService","token","config","headers","pathname","window","location","get","post","surveyPublicHas","answers","customer"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,kBAAjB;;IAEqBC,a;;;;;;;WACnB,gBAAOC,KAAP,EAAc;AACZ,UAAMC,MAAM,GAAG;AACbC,QAAAA,OAAO,EAAE;AACPC,UAAAA,QAAQ,EAAEC,MAAM,CAACC,QAAP,CAAgBF;AADnB;AADI,OAAf;AAKA,aAAOL,IAAI,CAACQ,GAAL,CAAS,aAAaN,KAAtB,EAA6BC,MAA7B,CAAP;AACD;;;WACD,yBAAgBD,KAAhB,EAAuB;AACrB,aAAOF,IAAI,CAACS,IAAL,CAAU,kBAAkBP,KAA5B,CAAP;AACD;;;WACD,2BAAkBQ,eAAlB,EAAmCC,OAAnC,EAA4C;AAC1C,aAAOX,IAAI,CAACS,IAAL,CAAU,qBAAqBC,eAA/B,EAAgDC,OAAhD,CAAP;AACD;;;WACD,4BAAmBD,eAAnB,EAAoCC,OAApC,EAA6C;AAC3C,aAAOX,IAAI,CAACS,IAAL,CAAU,aAAaC,eAAvB,EAAwCC,OAAxC,CAAP;AACD;;;WACD,iCAAwBT,KAAxB,EAA+BU,QAA/B,EAAyC;AACvC,UAAMR,OAAO,GAAG;AACdC,QAAAA,QAAQ,EAAEC,MAAM,CAACC,QAAP,CAAgBF;AADZ,OAAhB;AAGA,aAAOL,IAAI,CAACS,IAAL,CAAU,aAAaP,KAAb,GAAqB,QAA/B,EAAyCU,QAAzC,EAAmDR,OAAnD,CAAP;AACD;;;;;;SAvBkBH,a","sourcesContent":["import http from '../../utils/http'\n\nexport default class WidgetService {\n  getOne(token) {\n    const config = {\n      headers: {\n        pathname: window.location.pathname,\n      },\n    }\n    return http.get('/widget/' + token, config)\n  }\n  postOpenCounter(token) {\n    return http.post('/widget/show/' + token)\n  }\n  postPartialAnswer(surveyPublicHas, answers) {\n    return http.post('/survey/partial/' + surveyPublicHas, answers)\n  }\n  postCompleteAnswer(surveyPublicHas, answers) {\n    return http.post('/survey/' + surveyPublicHas, answers)\n  }\n  checkCustomerRecurrence(token, customer) {\n    const headers = {\n      pathname: window.location.pathname,\n    }\n    return http.post('/widget/' + token + '/check', customer, headers)\n  }\n}\n"]}]}