{"remainingRequest":"/home/track/workplace/a2/frontend/widget/node_modules/thread-loader/dist/cjs.js!/home/track/workplace/a2/frontend/widget/node_modules/babel-loader/lib/index.js!/home/track/workplace/a2/frontend/widget/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/track/workplace/a2/frontend/widget/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/track/workplace/a2/frontend/widget/src/views/Widget/Survey.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/track/workplace/a2/frontend/widget/src/views/Widget/Survey.vue","mtime":1618839454721},{"path":"/home/track/workplace/a2/frontend/widget/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/track/workplace/a2/frontend/widget/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/track/workplace/a2/frontend/widget/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/track/workplace/a2/frontend/widget/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/track/workplace/a2/frontend/widget/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3RyYWNrL3dvcmtwbGFjZS9hMi9mcm9udGVuZC93aWRnZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS90cmFjay93b3JrcGxhY2UvYTIvZnJvbnRlbmQvd2lkZ2V0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAdHJhY2tzYWxlL2Rlc2lnbi1zeXN0ZW0nOwppbXBvcnQgY29uc3RzIGZyb20gJy4uLy4uL2NvbnN0cyc7CmltcG9ydCB7IHVzZXJMYW5ndWFnZSBhcyBfdXNlckxhbmd1YWdlIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGFuZ3VhZ2UnOwppbXBvcnQgeyBnZXRVc2VyQ29udGV4dEJ5TWV0cmljIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3VydmV5JzsKaW1wb3J0IERpc3BsYXlXZWIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zdXJ2ZXkvRGlzcGxheVdlYic7CmltcG9ydCBXaWRnZXRVc2VDYXNlIGZyb20gJy4uLy4uL2FyY2gvd2lkZ2V0L3VzZWNhc2UnOwp2YXIgd2lkZ2V0VXNlQ2FzZSA9IG5ldyBXaWRnZXRVc2VDYXNlKCk7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBEaXNwbGF5V2ViOiBEaXNwbGF5V2ViLAogICAgQnV0dG9uOiBCdXR0b24KICB9LAogIHByb3BzOiB7CiAgICB3aWRnZXQ6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFuc3dlcnM6IFtdLAogICAgICBzdGFydFRpbWU6IDAsCiAgICAgIGN1cnJlbnRJbmRleDogMCwKICAgICAgaW50ZXJhY3Rpb25VVUlEOiBudWxsLAogICAgICBzaG93VGhhbmtzTWVzc2FnZTogZmFsc2UsCiAgICAgIHNob3dFcnJvck1lc3NhZ2U6IGZhbHNlLAogICAgICBsYW5ndWFnZTogJ3B0X0JSJywKICAgICAgZGVmYXVsdE1lc3NhZ2U6IHsKICAgICAgICBlbl9VUzogJ1RoYW5rIHlvdSBmb3IgeW91ciBmZWVkYmFjayEnLAogICAgICAgIHB0X0JSOiAnQWdyYWRlY2Vtb3MgcG9yIHNldSBmZWVkYmFjayEnLAogICAgICAgIGVzX0VTOiAnwqFHcmFjaWFzIHBvciB0dXMgY29tZW50YXJpb3MhJwogICAgICB9LAogICAgICBsb2dvOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCNEFBQUFlQ0FZQUFBQTdNSzZpQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQVhnU1VSQlZIZ0JyVmRmYUZ0bEZEL24rKzVOWFZXV29zd2hxTmxBWm1Wcmt3NW5FYVRwbm53WUxBcUMrTENtZzhHWW8wa0hBeFV4ellOalVFYXorZUJ3WWxNRUVRWmJDbnNZN0tGM2IvTmh2U2tUNjZ6UUZIMDN3blRyY3IvdmVNN04wbjliMHN4NTJwRGtmbjkrNSsvdm5DQzBJMzQyNmtMbkVGbEtvc0k0QlhZNGVPTzBKMHZPN0NjRGlGaEFTeFVDbk5iS2V2Y1NweXViWGVsc0JoaUJ6b3dseVBLM0tBTUFzYXpiWXdoQll4d1E0d3BzQ3NIU3MvN0pLUTIxZkRWUnFEUzdXalZiY1AxUE15NDh2V2lKY2dDMHRmRWNHV0h0UGlSVlpYWDRJZ3RzTFRsQXlKK0hGS0QvZ3AvTk5yc2Y0UkZXYXVpY1VBVHBCenVJLzVEL1BUQW0vNHh6cjh5V1ZOY2VpZktaK3hCSmFySXBqWFpJaXlKWVY4SkJLdnplKytWb2EyQ0pKWFhPOEtkNDQ1RUFCc0JLOUgyeEJHMElLeEdMQUl4cFpRNXA4UUpaMUJyS05yZzdXRWtVVnhSZUYyTjJiWTdBOW1KREg2TFJZTytwQWp5R1BJaHIrbVgvV0VVcCt0eGg5MnRyNDQ3V0UveDhHRFphN1BxZlpZRHNLZ2pCY0czdnFTSThnYnpxSDBrclRkK0s1UTVZZE1pTXp2WitWMWdGOWorT2FWS3puR2xkSVNaQm5pMGRnLzlCZHMrbE14cWg0SWpiMFZRN2c3OTNlSWxTTmN4cUYxUk9JVVNocmtxeEhkRG4vUk1UMjhxWnljMzIvZFJiUE91ZzhUUUduR3cyR2ppUmJCMkdyWFZKTFhMcWtwUUtaK1dPelFqZ09mOUVtaStiZE1Gd1FTNG4vK2k1Y0wzVi92NWJIeVExd0F6ZkRlejJLdFdDSFVxREhwQ1NDZXVUclcySGRkaGxPWEdkaXdGc0FVeHR0di9Hbmg4OEJjWnp3bGliNkZPdVNVbTVwYVJtWklNMU5MM1pKZHY4a1p3TE5pYWduQ3pGaFo2dlI2RU5jYkUyeFY0aVI2eFcwS3VZQm1PTlJhUHZlcTBPYitjYVpYSmdOd2NVUVFNTDhRc3I1WkgwVTlGV1p5TWFQTTJoWVlzNXAweVNsVGFqNERpQU5WdUZmZXNaYWFNb2NUR2FWeUpnMElXQVZnQmRkNEl0RWVCM201MjkybDJxSExoMVlMOE9yWWNxUXB1eTNUOGFpNkJlakdBTnhOb0lXLzFVc0x3ejR0ckxiRUU4QWdHemxCbThzdWVLMTg1OUN0cVVEdFNUTG9adWdrajRDdEIxYVliZDE4dldpeUxzVGhOdjl6NUgrcW53cHNPSDcvU05QN0lzWHZLUHBSVUVTVTRvWW1DVXZXNDlYckdPVUptQTBKakRsM3F1Rmx1QkhmcGw4S0FpNnVLU0lvZGpVOVJFTVNZUUlmaXVqWjFIeEZXVXExdHFNUkphVjdlOHJraFExUmJmSy9WYzlWcUJwdjFrbEt1bkZEWU90R1hGcmF1c3VlbEptanRydWxKRGRzNGRaZEFndGdLMCtoSUZLcHlYZzZVMWNmM29kdi9ReVB5K3NZMzM2QTdPWkZFWVEwOHRLU2xzU1hOK1oxWXh1YldiWTV4US9Dd3JtenRVYUNYS1o0N3hYM3k0NEdCdC8rVmRWK1lhKzQvZGZpdm5FQlVqMm1heTgvSFlPbUJGUXc1eGlNUkFOSmNkQnB4aWk1bUpvSXZKUENsZ2xjVDVpbXhtc0lQTXNWdGRLWHdLbHZqQU5NZW9kRzNQSlcralJVZm4rM2tRTUdsbU5la3lVVWVwSVg2Y2Y3QVdrN0VvcEV5eUZiaDdmOXFSbUw3b0h6L0hNYzdKQXM4dFF2eURjbUNMclUxWkpSUnA1MzdzK2Q2REZuSysrNGFzN3ppNWtCZ2cwcW5BbUtrVmF4RW5sU2dmZXBhOE00bHl2WTVqUEhrUTNsOWtiYU1jY3lIeTBmbmVieDVyQUdnbXgyLzM1NWp0eGdTWXZiVmtyQmtzZEpjcllSMVgyR3FYS085QzZIOTVUY1RuRGczQkU4b0lKeG9id2NDR3VIS1FoNUc4Z01yYUNvSDhsdmlLazhVVUcrQ3Vzc1grV3gvbTREL0t5Szl2WmhUWm9rd2U3Rjdrd2prNzNqMWJiS3l2bzh5NG40NXF4ekliV1o2UjY1MkVEMDVCclpibnFhRUNiY2h4VGpKR2tYd1pFRkNaeFRuWml1TzdiZzZ2M2ZjUVZ3djRGcjNNemNCbTY4VnVKTGs0cTJsS0tUUHRMTi94U2dsdkhjbEkxckx6a3VGb2l6VEE1MURPeW5DaENNK052M2J6b2ZtNmFaTkkvdngreGlXVFkzZDE2ZEJ5cVhNSkEvK3VzTGJ2NHU1clpkbDNaT0h0QVdYc1ROaG5ReG9OQjNwZW9UKzV6Ujgrcyt0bTZWSDNOMjBTM3VzWHovSXZnejRleUl0MTFyTDE0bWNTNmFEYVN1L1ZRWTFicE1VNmg3TnJ3VlQ1TFIvOFkzYzJBeFZwK2R0SmVpaS9EYWZtMzhrcnc1VG4wRUZwREV4aXE1b2JWZFZ1cmF3SnJuTUNsWUo3dGx4SXpMYnM2eUwvQWxmY3VwNU93Vm5WQUFBQUFFbEZUa1N1UW1DQycKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBjdXN0b21lcjogZnVuY3Rpb24gY3VzdG9tZXIoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN1cnZleS5jdXN0b21lcjsKICAgIH0sCiAgICBpbnRlcmFjdGlvbjogZnVuY3Rpb24gaW50ZXJhY3Rpb24oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN1cnZleS5pbnRlcmFjdGlvbjsKICAgIH0sCiAgICBlZGl0TW9kZTogZnVuY3Rpb24gZWRpdE1vZGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN1cnZleS5lZGl0TW9kZTsKICAgIH0KICB9KSksIHt9LCB7CiAgICBjdXJyZW50SXRlbTogZnVuY3Rpb24gY3VycmVudEl0ZW0oKSB7CiAgICAgIHJldHVybiB0aGlzLndpZGdldC5zdXJ2ZXkuaXRlbXNbdGhpcy5jdXJyZW50SW5kZXhdOwogICAgfSwKICAgIGN1cnJlbnRBbnN3ZXI6IGZ1bmN0aW9uIGN1cnJlbnRBbnN3ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRBbnN3ZXIodGhpcy5jdXJyZW50SW5kZXgpOwogICAgfSwKICAgIHVzZXJMYW5ndWFnZTogZnVuY3Rpb24gdXNlckxhbmd1YWdlKCkgewogICAgICByZXR1cm4gX3VzZXJMYW5ndWFnZSgpOwogICAgfSwKICAgIHNob3dOZXh0OiBmdW5jdGlvbiBzaG93TmV4dCgpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID09PSB0aGlzLndpZGdldC5zdXJ2ZXkuaXRlbXMubGVuZ3RoIC0gMSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgc2hvd1ByZXZpb3VzOiBmdW5jdGlvbiBzaG93UHJldmlvdXMoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCAmJiAhdGhpcy53aWRnZXQuc3VydmV5Lmp1bXBfcnVsZXNfZW5hYmxlZCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgc2hvd1N1Ym1pdDogZnVuY3Rpb24gc2hvd1N1Ym1pdCgpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID09PSB0aGlzLndpZGdldC5zdXJ2ZXkuaXRlbXMubGVuZ3RoIC0gMSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgY29sb3JzOiBmdW5jdGlvbiBjb2xvcnMoKSB7CiAgICAgIHZhciBwcmltYXJ5Q29sb3IgPSB0aGlzLndpZGdldC5zdXJ2ZXkucHJpbWFyeV9jb2xvciB8fCAnIzM1NDA1Mic7CiAgICAgIHZhciBzZWNvbmRhcnlDb2xvciA9ICcjZmZmJzsKCiAgICAgIGlmICghdGhpcy53aWRnZXQuc3VydmV5X2NvbG9ycykgewogICAgICAgIHNlY29uZGFyeUNvbG9yID0gdGhpcy53aWRnZXQuc2Vjb25kYXJ5X2NvbG9yOwogICAgICAgIHByaW1hcnlDb2xvciA9IHRoaXMud2lkZ2V0LnByaW1hcnlfY29sb3I7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgcHJpbWFyeUNvbG9yOiBwcmltYXJ5Q29sb3IsCiAgICAgICAgc2Vjb25kYXJ5Q29sb3I6IHNlY29uZGFyeUNvbG9yCiAgICAgIH07CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoewogICAgc2hvd1dpZGdldDogJ3N1cnZleS9zaG93V2lkZ2V0JwogIH0pKSwge30sIHsKICAgIHNlbGVjdFZhbHVlOiBmdW5jdGlvbiBzZWxlY3RWYWx1ZShpdGVtKSB7CiAgICAgIHZhciBhbnN3ZXJJbmRleCA9IHRoaXMuYW5zd2Vycy5maW5kSW5kZXgoZnVuY3Rpb24gKGFuc3dlcikgewogICAgICAgIHJldHVybiBhbnN3ZXIudXVpZCA9PT0gaXRlbS51dWlkOwogICAgICB9KTsKCiAgICAgIGlmIChpdGVtLmFuc3dlci5jb21tZW50KSB7CiAgICAgICAgaXRlbS5hbnN3ZXIuY29tbWVudCA9IGl0ZW0uYW5zd2VyLmNvbW1lbnQudHJpbSgpOwogICAgICB9CgogICAgICBpZiAoYW5zd2VySW5kZXggPT09IC0xKSB7CiAgICAgICAgdGhpcy5hbnN3ZXJzID0gdGhpcy5hbnN3ZXJzLmNvbmNhdChpdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbmV3QW5zd2VycyA9IHRoaXMuYW5zd2Vycy5maWx0ZXIoZnVuY3Rpb24gKGksIGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gaW5kZXggIT09IGFuc3dlckluZGV4OwogICAgICAgIH0pOwogICAgICAgIHRoaXMuYW5zd2VycyA9IG5ld0Fuc3dlcnMuY29uY2F0KGl0ZW0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlUHJldmlvdXNJdGVtOiBmdW5jdGlvbiBoYW5kbGVQcmV2aW91c0l0ZW0oKSB7CiAgICAgIHRoaXMuY3VycmVudEluZGV4LS07CiAgICB9LAogICAgaGFuZGxlTmV4dEl0ZW06IGZ1bmN0aW9uIGhhbmRsZU5leHRJdGVtKCkgewogICAgICBpZiAoIXRoaXMudmFsaWRhdGVRdWVzdGlvbigpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgY3VycmVudFF1ZXN0aW9uSXRlbSA9IHRoaXMud2lkZ2V0LnN1cnZleS5pdGVtc1t0aGlzLmN1cnJlbnRJbmRleF07CiAgICAgIHZhciBjdXJyZW50QW5zd2VyID0gdGhpcy5hbnN3ZXJzW3RoaXMuY3VycmVudEluZGV4XTsgLy8gUXVlc3Rpb24gY3Vyc29yIHRvIG5leHQgcXVlc3Rpb24KCiAgICAgIHRoaXMuY3VycmVudEluZGV4Kys7CgogICAgICBpZiAoY3VycmVudFF1ZXN0aW9uSXRlbS5qdW1wX3J1bGVzX2VuYWJsZWQpIHsKICAgICAgICBpZiAoIWN1cnJlbnRBbnN3ZXIgfHwgY3VycmVudEFuc3dlci5hbnN3ZXIucmVzcG9uc2UubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleC0tOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNvbnRleHQgPSBnZXRVc2VyQ29udGV4dEJ5TWV0cmljKGN1cnJlbnRBbnN3ZXIudHlwZSwgY3VycmVudEFuc3dlci5hbnN3ZXIucmVzcG9uc2UsIGN1cnJlbnRRdWVzdGlvbkl0ZW0ubWluX3NjYWxlLCBjdXJyZW50UXVlc3Rpb25JdGVtLm1heF9zY2FsZSk7CiAgICAgICAgdmFyIGFjdGlvbiA9IGN1cnJlbnRRdWVzdGlvbkl0ZW0uanVtcF9ydWxlc1tjb250ZXh0XS5hY3Rpb247CgogICAgICAgIGlmIChhY3Rpb24gPT09IGNvbnN0cy5KVU1QX0FDVElPTlMuU1BFQ0lGSUNfUVVFU1RJT04pIHsKICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gY3VycmVudFF1ZXN0aW9uSXRlbS5qdW1wX3J1bGVzW2NvbnRleHRdLnZhbHVlOwogICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBjb25zdHMuSlVNUF9BQ1RJT05TLkZJTklTSF9TVVJWRVkpIHsKICAgICAgICAgIHRoaXMuc3VibWl0Q29tcGxldGVBbnN3ZXIoY29uc3RzLklOVEVSQUNUSU9OX1NUQVRVUy5ET05FKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmFuc3dlcnMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5zdWJtaXRQYXJ0aWFsQW5zd2VyKGNvbnN0cy5JTlRFUkFDVElPTl9TVEFUVVMuUEFSVElBTCk7CiAgICAgIH0KICAgIH0sCiAgICBzdWJtaXRQYXJ0aWFsQW5zd2VyOiBmdW5jdGlvbiBzdWJtaXRQYXJ0aWFsQW5zd2VyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdG90YWxUaW1lLCBzdXJ2ZXlBbnN3ZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5lZGl0TW9kZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRvdGFsVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gX3RoaXMuc3RhcnRUaW1lOwogICAgICAgICAgICAgICAgc3VydmV5QW5zd2VyID0gewogICAgICAgICAgICAgICAgICBxdWVzdGlvbnM6IF90aGlzLmFuc3dlcnMsCiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlX3RpbWU6IHRvdGFsVGltZSA+IDAgPyB0b3RhbFRpbWUgOiAwLAogICAgICAgICAgICAgICAgICBzdGF0dXM6IGNvbnN0cy5JTlRFUkFDVElPTl9TVEFUVVMuUEFSVElBTCwKICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25fdXVpZDogX3RoaXMuaW50ZXJhY3Rpb25VVUlELAogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogX3RoaXMubGFuZ3VhZ2UsCiAgICAgICAgICAgICAgICAgIGN1c3RvbWVyOiBfdGhpcy5jdXN0b21lciwKICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb246IF90aGlzLmludGVyYWN0aW9uCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gd2lkZ2V0VXNlQ2FzZS5wb3N0UGFydGlhbEFuc3dlcihfdGhpcy53aWRnZXQuc3VydmV5X3B1YmxpY19oYXNoLCBzdXJ2ZXlBbnN3ZXIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpcy5pbnRlcmFjdGlvblVVSUQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3VibWl0Q29tcGxldGVBbnN3ZXI6IGZ1bmN0aW9uIHN1Ym1pdENvbXBsZXRlQW5zd2VyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfdm0sIHRvdGFsVGltZSwgc3VydmV5QW5zd2VyLCB2bTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIudmFsaWRhdGVRdWVzdGlvbigpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5lZGl0TW9kZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5zaG93VGhhbmtzTWVzc2FnZSA9IHRydWU7CiAgICAgICAgICAgICAgICBfdm0gPSBfdGhpczI7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3ZtLmNsZWFyV2lkZ2V0KCk7CiAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgdG90YWxUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBfdGhpczIuc3RhcnRUaW1lOwogICAgICAgICAgICAgICAgc3VydmV5QW5zd2VyID0gewogICAgICAgICAgICAgICAgICBxdWVzdGlvbnM6IF90aGlzMi5hbnN3ZXJzLAogICAgICAgICAgICAgICAgICByZXNwb25zZV90aW1lOiB0b3RhbFRpbWUgPiAwID8gdG90YWxUaW1lIDogMCwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBjb25zdHMuSU5URVJBQ1RJT05fU1RBVFVTLkRPTkUsCiAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uX3V1aWQ6IF90aGlzMi5pbnRlcmFjdGlvblVVSUQsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBfdGhpczIubGFuZ3VhZ2UsCiAgICAgICAgICAgICAgICAgIGN1c3RvbWVyOiBfdGhpczIuY3VzdG9tZXIsCiAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uOiBfdGhpczIuaW50ZXJhY3Rpb24KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIHdpZGdldFVzZUNhc2UucG9zdENvbXBsZXRlQW5zd2VyKF90aGlzMi53aWRnZXQuc3VydmV5X3B1YmxpY19oYXNoLCBzdXJ2ZXlBbnN3ZXIpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX3RoaXMyLnNob3dUaGFua3NNZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHZtID0gX3RoaXMyOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZtLnNob3dXaWRnZXQoZmFsc2UpOwogICAgICAgICAgICAgICAgfSwgMjAwMCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRDdXJyZW50QW5zd2VyOiBmdW5jdGlvbiBnZXRDdXJyZW50QW5zd2VyKHF1ZXN0aW9uSW5kZXgpIHsKICAgICAgdmFyIGN1cnJlbnRVdWlkID0gdGhpcy53aWRnZXQuc3VydmV5Lml0ZW1zW3F1ZXN0aW9uSW5kZXhdLml0ZW1fdXVpZDsKICAgICAgcmV0dXJuIHRoaXMuYW5zd2Vycy5maW5kKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgcmV0dXJuIGEudXVpZCA9PT0gY3VycmVudFV1aWQ7CiAgICAgIH0pIHx8IG51bGw7CiAgICB9LAogICAgdmFsaWRhdGVRdWVzdGlvbjogZnVuY3Rpb24gdmFsaWRhdGVRdWVzdGlvbigpIHsKICAgICAgdmFyIHZhbGlkYXRvciA9IHRydWU7CiAgICAgIHZhciBxdWVzdGlvbiA9IHRoaXMud2lkZ2V0LnN1cnZleS5pdGVtc1t0aGlzLmN1cnJlbnRJbmRleF07CgogICAgICBpZiAodGhpcy5jdXJyZW50QW5zd2VyID09PSBudWxsICYmIChxdWVzdGlvbi5pc19vYmxpZ2F0b3J5IHx8IHF1ZXN0aW9uLmp1bXBfcnVsZXNfZW5hYmxlZCkpIHsKICAgICAgICB2YWxpZGF0b3IgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRBbnN3ZXIgIT09IG51bGwpIHsKICAgICAgICBpZiAocXVlc3Rpb24uaXNfb2JsaWdhdG9yeSB8fCBxdWVzdGlvbi5qdW1wX3J1bGVzX2VuYWJsZWQpIHsKICAgICAgICAgIGlmIChxdWVzdGlvbi50eXBlICE9PSBjb25zdHMuUVVFU1RJT05fVFlQRS5PUEVOICYmIHRoaXMuY3VycmVudEFuc3dlci5hbnN3ZXIucmVzcG9uc2UubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHZhbGlkYXRvciA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIGlmIChxdWVzdGlvbi50eXBlID09PSBjb25zdHMuUVVFU1RJT05fVFlQRS5PUEVOICYmIHRoaXMuY3VycmVudEFuc3dlci5hbnN3ZXIuY29tbWVudCA9PT0gJycpIHsKICAgICAgICAgICAgdmFsaWRhdG9yID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIXZhbGlkYXRvcikgewogICAgICAgIHRoaXMuc2hvd0Vycm9yTWVzc2FnZSA9IHRydWU7CiAgICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZtLnNob3dFcnJvck1lc3NhZ2UgPSBmYWxzZTsKICAgICAgICB9LCAzMDAwKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbGlkYXRvcjsKICAgIH0sCiAgICBjbGVhcldpZGdldDogZnVuY3Rpb24gY2xlYXJXaWRnZXQoKSB7CiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDsKICAgICAgdGhpcy5hbnN3ZXJzID0gW107CiAgICAgIHRoaXMuc3RhcnRUaW1lID0gMDsKICAgICAgdGhpcy5pbnRlcmFjdGlvblVVSUQgPSBudWxsOwogICAgICB0aGlzLnNob3dUaGFua3NNZXNzYWdlID0gZmFsc2U7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7IC8vU2V0IHVzZXIgbGFuZ3VhZ2UKCiAgICB0aGlzLmxhbmd1YWdlID0gd2lkZ2V0VXNlQ2FzZS5zZXRMYW5ndWFnZSh0aGlzLndpZGdldCk7CiAgfQp9Ow=="},{"version":3,"sources":["Survey.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,YAAA,EAAA,QAAA,QAAA,MAAA;AACA,SAAA,MAAA,QAAA,0BAAA;AACA,OAAA,MAAA,MAAA,cAAA;AACA,SAAA,YAAA,IAAA,aAAA,QAAA,sBAAA;AACA,SAAA,sBAAA,QAAA,oBAAA;AACA,OAAA,UAAA,MAAA,oCAAA;AAEA,OAAA,aAAA,MAAA,2BAAA;AACA,IAAA,aAAA,GAAA,IAAA,aAAA,EAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,MAAA,EAAA;AAFA,GADA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GALA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,CAFA;AAGA,MAAA,YAAA,EAAA,CAHA;AAIA,MAAA,eAAA,EAAA,IAJA;AAKA,MAAA,iBAAA,EAAA,KALA;AAMA,MAAA,gBAAA,EAAA,KANA;AAOA,MAAA,QAAA,EAAA,OAPA;AAQA,MAAA,cAAA,EAAA;AACA,QAAA,KAAA,EAAA,8BADA;AAEA,QAAA,KAAA,EAAA,+BAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OARA;AAaA,MAAA,IAAA,EACA;AAdA,KAAA;AAgBA,GAzBA;AA0BA,EAAA,QAAA,kCACA,QAAA,CAAA;AACA,IAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,MAAA,CAAA,QAAA;AAAA,KADA;AAEA,IAAA,WAAA,EAAA,qBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,MAAA,CAAA,WAAA;AAAA,KAFA;AAGA,IAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,MAAA,CAAA,QAAA;AAAA;AAHA,GAAA,CADA;AAMA,IAAA,WANA,yBAMA;AACA,aAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,YAAA,CAAA;AACA,KARA;AASA,IAAA,aATA,2BASA;AACA,aAAA,KAAA,gBAAA,CAAA,KAAA,YAAA,CAAA;AACA,KAXA;AAYA,IAAA,YAZA,0BAYA;AACA,aAAA,aAAA,EAAA;AACA,KAdA;AAeA,IAAA,QAfA,sBAeA;AACA,UAAA,KAAA,YAAA,KAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,KAAA;AACA;;AACA,aAAA,IAAA;AACA,KApBA;AAqBA,IAAA,YArBA,0BAqBA;AACA,UAAA,KAAA,YAAA,IAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,KAAA;AACA,KA1BA;AA2BA,IAAA,UA3BA,wBA2BA;AACA,UAAA,KAAA,YAAA,KAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,KAAA;AACA,KAhCA;AAiCA,IAAA,MAjCA,oBAiCA;AACA,UAAA,YAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,aAAA,IAAA,SAAA;AACA,UAAA,cAAA,GAAA,MAAA;;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,aAAA,EAAA;AACA,QAAA,cAAA,GAAA,KAAA,MAAA,CAAA,eAAA;AACA,QAAA,YAAA,GAAA,KAAA,MAAA,CAAA,aAAA;AACA;;AACA,aAAA;AAAA,QAAA,YAAA,EAAA,YAAA;AAAA,QAAA,cAAA,EAAA;AAAA,OAAA;AACA;AAzCA,IA1BA;AAqEA,EAAA,OAAA,kCACA,YAAA,CAAA;AACA,IAAA,UAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,WAJA,uBAIA,IAJA,EAIA;AACA,UAAA,WAAA,GAAA,KAAA,OAAA,CAAA,SAAA,CAAA,UAAA,MAAA;AAAA,eAAA,MAAA,CAAA,IAAA,KAAA,IAAA,CAAA,IAAA;AAAA,OAAA,CAAA;;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,OAAA,EAAA;AACA,QAAA,IAAA,CAAA,MAAA,CAAA,OAAA,GAAA,IAAA,CAAA,MAAA,CAAA,OAAA,CAAA,IAAA,EAAA;AACA;;AACA,UAAA,WAAA,KAAA,CAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,KAAA,OAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA,OAFA,MAEA;AACA,YAAA,UAAA,GAAA,KAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA,KAAA;AAAA,iBAAA,KAAA,KAAA,WAAA;AAAA,SAAA,CAAA;AACA,aAAA,OAAA,GAAA,UAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA;AACA,KAfA;AAgBA,IAAA,kBAhBA,gCAgBA;AACA,WAAA,YAAA;AACA,KAlBA;AAmBA,IAAA,cAnBA,4BAmBA;AACA,UAAA,CAAA,KAAA,gBAAA,EAAA,EAAA;AACA;AACA;;AACA,UAAA,mBAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,YAAA,CAAA;AACA,UAAA,aAAA,GAAA,KAAA,OAAA,CAAA,KAAA,YAAA,CAAA,CALA,CAOA;;AACA,WAAA,YAAA;;AAEA,UAAA,mBAAA,CAAA,kBAAA,EAAA;AACA,YAAA,CAAA,aAAA,IAAA,aAAA,CAAA,MAAA,CAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,eAAA,YAAA;AACA;AACA;;AACA,YAAA,OAAA,GAAA,sBAAA,CACA,aAAA,CAAA,IADA,EAEA,aAAA,CAAA,MAAA,CAAA,QAFA,EAGA,mBAAA,CAAA,SAHA,EAIA,mBAAA,CAAA,SAJA,CAAA;AAMA,YAAA,MAAA,GAAA,mBAAA,CAAA,UAAA,CAAA,OAAA,EAAA,MAAA;;AACA,YAAA,MAAA,KAAA,MAAA,CAAA,YAAA,CAAA,iBAAA,EAAA;AACA,eAAA,YAAA,GAAA,mBAAA,CAAA,UAAA,CAAA,OAAA,EAAA,KAAA;AACA,SAFA,MAEA,IAAA,MAAA,KAAA,MAAA,CAAA,YAAA,CAAA,aAAA,EAAA;AACA,eAAA,oBAAA,CAAA,MAAA,CAAA,kBAAA,CAAA,IAAA;AACA;AACA;AACA;;AAEA,UAAA,KAAA,OAAA,CAAA,MAAA,EAAA;AACA,aAAA,mBAAA,CAAA,MAAA,CAAA,kBAAA,CAAA,OAAA;AACA;AACA,KApDA;AAqDA,IAAA,mBArDA,iCAqDA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,QADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAIA,gBAAA,SAJA,GAIA,IAAA,IAAA,GAAA,OAAA,KAAA,KAAA,CAAA,SAJA;AAKA,gBAAA,YALA,GAKA;AACA,kBAAA,SAAA,EAAA,KAAA,CAAA,OADA;AAEA,kBAAA,aAAA,EAAA,SAAA,GAAA,CAAA,GAAA,SAAA,GAAA,CAFA;AAGA,kBAAA,MAAA,EAAA,MAAA,CAAA,kBAAA,CAAA,OAHA;AAIA,kBAAA,gBAAA,EAAA,KAAA,CAAA,eAJA;AAKA,kBAAA,QAAA,EAAA,KAAA,CAAA,QALA;AAMA,kBAAA,QAAA,EAAA,KAAA,CAAA,QANA;AAOA,kBAAA,WAAA,EAAA,KAAA,CAAA;AAPA,iBALA;AAAA;AAAA,uBAeA,aAAA,CAAA,iBAAA,CAAA,KAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,YAAA,CAfA;;AAAA;AAeA,gBAAA,KAAA,CAAA,eAfA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,KArEA;AAsEA,IAAA,oBAtEA,kCAsEA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,MAAA,CAAA,gBAAA,EADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,qBAIA,MAAA,CAAA,QAJA;AAAA;AAAA;AAAA;;AAKA,gBAAA,MAAA,CAAA,iBAAA,GAAA,IAAA;AACA,gBAAA,GANA,GAMA,MANA;AAOA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,GAAA,CAAA,WAAA;AACA,iBAFA,EAEA,IAFA,CAAA;AAPA;;AAAA;AAYA,gBAAA,SAZA,GAYA,IAAA,IAAA,GAAA,OAAA,KAAA,MAAA,CAAA,SAZA;AAaA,gBAAA,YAbA,GAaA;AACA,kBAAA,SAAA,EAAA,MAAA,CAAA,OADA;AAEA,kBAAA,aAAA,EAAA,SAAA,GAAA,CAAA,GAAA,SAAA,GAAA,CAFA;AAGA,kBAAA,MAAA,EAAA,MAAA,CAAA,kBAAA,CAAA,IAHA;AAIA,kBAAA,gBAAA,EAAA,MAAA,CAAA,eAJA;AAKA,kBAAA,QAAA,EAAA,MAAA,CAAA,QALA;AAMA,kBAAA,QAAA,EAAA,MAAA,CAAA,QANA;AAOA,kBAAA,WAAA,EAAA,MAAA,CAAA;AAPA,iBAbA;AAAA;AAAA,uBAsBA,aAAA,CAAA,kBAAA,CAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,YAAA,CAtBA;;AAAA;AAuBA,gBAAA,MAAA,CAAA,iBAAA,GAAA,IAAA;AACA,gBAAA,EAxBA,GAwBA,MAxBA;AAyBA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,EAAA,CAAA,UAAA,CAAA,KAAA;AACA,iBAFA,EAEA,IAFA,CAAA;;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA,KAlGA;AAmGA,IAAA,gBAnGA,4BAmGA,aAnGA,EAmGA;AACA,UAAA,WAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,aAAA,EAAA,SAAA;AACA,aAAA,KAAA,OAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,KAAA,WAAA;AAAA,OAAA,KAAA,IAAA;AACA,KAtGA;AAuGA,IAAA,gBAvGA,8BAuGA;AACA,UAAA,SAAA,GAAA,IAAA;AAEA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,YAAA,CAAA;;AACA,UAAA,KAAA,aAAA,KAAA,IAAA,KAAA,QAAA,CAAA,aAAA,IAAA,QAAA,CAAA,kBAAA,CAAA,EAAA;AACA,QAAA,SAAA,GAAA,KAAA;AACA,OAFA,MAEA,IAAA,KAAA,aAAA,KAAA,IAAA,EAAA;AACA,YAAA,QAAA,CAAA,aAAA,IAAA,QAAA,CAAA,kBAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,KAAA,MAAA,CAAA,aAAA,CAAA,IAAA,IAAA,KAAA,aAAA,CAAA,MAAA,CAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,YAAA,SAAA,GAAA,KAAA;AACA,WAFA,MAEA,IAAA,QAAA,CAAA,IAAA,KAAA,MAAA,CAAA,aAAA,CAAA,IAAA,IAAA,KAAA,aAAA,CAAA,MAAA,CAAA,OAAA,KAAA,EAAA,EAAA;AACA,YAAA,SAAA,GAAA,KAAA;AACA;AACA;AACA;;AAEA,UAAA,CAAA,SAAA,EAAA;AACA,aAAA,gBAAA,GAAA,IAAA;AACA,YAAA,EAAA,GAAA,IAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,EAAA,CAAA,gBAAA,GAAA,KAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA;;AACA,aAAA,SAAA;AACA,KA/HA;AAgIA,IAAA,WAhIA,yBAgIA;AACA,WAAA,YAAA,GAAA,CAAA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,CAAA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,iBAAA,GAAA,KAAA;AACA;AAtIA,IArEA;AA6MA,EAAA,OA7MA,qBA6MA;AACA,SAAA,SAAA,GAAA,IAAA,IAAA,GAAA,OAAA,EAAA,CADA,CAGA;;AACA,SAAA,QAAA,GAAA,aAAA,CAAA,WAAA,CAAA,KAAA,MAAA,CAAA;AACA;AAlNA,CAAA","sourcesContent":["<template>\n  <div v-if=\"!showThanksMessage\">\n    <div class=\"track-question\">\n      <div class=\"error\" v-if=\"showErrorMessage\">\n        {{ userLanguage.survey.messages.obligatory }}\n      </div>\n      <DisplayWeb\n        :selectedQuestion=\"currentItem\"\n        :color=\"widget.survey.primary_color\"\n        :lang=\"language\"\n        :onSelectAnswer=\"item => selectValue(item)\"\n        :status=\"widget.survey.status\"\n        :currentAnswer=\"currentAnswer\"\n      />\n    </div>\n    <div class=\"track-footer\">\n      <a href=\"https://track.co\" target=\"_blank\"><img :src=\"logo\" width=\"30\"/></a>\n      <div class=\"track-buttons\">\n        <Button :label=\"userLanguage.survey.buttons.previous\" v-if=\"showPrevious\" :handleClick=\"handlePreviousItem\" />\n        <Button :label=\"userLanguage.survey.buttons.next\" height=\"30px\" v-if=\"showNext\" :handleClick=\"handleNextItem\" />\n        <Button :label=\"userLanguage.survey.buttons.send\" v-if=\"showSubmit\" :handleClick=\"submitCompleteAnswer\" />\n      </div>\n    </div>\n  </div>\n  <div v-else class=\"track-message\" :style=\"{ color: colors.primaryColor }\">\n    {{ widget.thanks_message[language] || defaultMessage[language] }}\n  </div>\n</template>\n<script>\nimport { mapMutations, mapState } from 'vuex'\nimport { Button } from '@tracksale/design-system'\nimport consts from '../../consts'\nimport { userLanguage } from '../../utils/language'\nimport { getUserContextByMetric } from '../../utils/survey'\nimport DisplayWeb from '../../components/survey/DisplayWeb'\n\nimport WidgetUseCase from '../../arch/widget/usecase'\nconst widgetUseCase = new WidgetUseCase()\n\nexport default {\n  components: {\n    DisplayWeb,\n    Button,\n  },\n  props: {\n    widget: Object,\n  },\n  data() {\n    return {\n      answers: [],\n      startTime: 0,\n      currentIndex: 0,\n      interactionUUID: null,\n      showThanksMessage: false,\n      showErrorMessage: false,\n      language: 'pt_BR',\n      defaultMessage: {\n        en_US: 'Thank you for your feedback!',\n        pt_BR: 'Agradecemos por seu feedback!',\n        es_ES: 'Â¡Gracias por tus comentarios!',\n      },\n      logo:\n        'data:image/png;base64,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',\n    }\n  },\n  computed: {\n    ...mapState({\n      customer: state => state.survey.customer,\n      interaction: state => state.survey.interaction,\n      editMode: state => state.survey.editMode,\n    }),\n    currentItem() {\n      return this.widget.survey.items[this.currentIndex]\n    },\n    currentAnswer() {\n      return this.getCurrentAnswer(this.currentIndex)\n    },\n    userLanguage() {\n      return userLanguage()\n    },\n    showNext() {\n      if (this.currentIndex === this.widget.survey.items.length - 1) {\n        return false\n      }\n      return true\n    },\n    showPrevious() {\n      if (this.currentIndex && !this.widget.survey.jump_rules_enabled) {\n        return true\n      }\n      return false\n    },\n    showSubmit() {\n      if (this.currentIndex === this.widget.survey.items.length - 1) {\n        return true\n      }\n      return false\n    },\n    colors() {\n      let primaryColor = this.widget.survey.primary_color || '#354052'\n      let secondaryColor = '#fff'\n      if (!this.widget.survey_colors) {\n        secondaryColor = this.widget.secondary_color\n        primaryColor = this.widget.primary_color\n      }\n      return { primaryColor, secondaryColor }\n    },\n  },\n  methods: {\n    ...mapMutations({\n      showWidget: 'survey/showWidget',\n    }),\n    selectValue(item) {\n      const answerIndex = this.answers.findIndex(answer => answer.uuid === item.uuid)\n      if (item.answer.comment) {\n        item.answer.comment = item.answer.comment.trim()\n      }\n      if (answerIndex === -1) {\n        this.answers = this.answers.concat(item)\n      } else {\n        const newAnswers = this.answers.filter((i, index) => index !== answerIndex)\n        this.answers = newAnswers.concat(item)\n      }\n    },\n    handlePreviousItem() {\n      this.currentIndex--\n    },\n    handleNextItem() {\n      if (!this.validateQuestion()) {\n        return\n      }\n      const currentQuestionItem = this.widget.survey.items[this.currentIndex]\n      const currentAnswer = this.answers[this.currentIndex]\n\n      // Question cursor to next question\n      this.currentIndex++\n\n      if (currentQuestionItem.jump_rules_enabled) {\n        if (!currentAnswer || currentAnswer.answer.response.length === 0) {\n          this.currentIndex--\n          return\n        }\n        const context = getUserContextByMetric(\n          currentAnswer.type,\n          currentAnswer.answer.response,\n          currentQuestionItem.min_scale,\n          currentQuestionItem.max_scale,\n        )\n        const action = currentQuestionItem.jump_rules[context].action\n        if (action === consts.JUMP_ACTIONS.SPECIFIC_QUESTION) {\n          this.currentIndex = currentQuestionItem.jump_rules[context].value\n        } else if (action === consts.JUMP_ACTIONS.FINISH_SURVEY) {\n          this.submitCompleteAnswer(consts.INTERACTION_STATUS.DONE)\n          return\n        }\n      }\n\n      if (this.answers.length) {\n        this.submitPartialAnswer(consts.INTERACTION_STATUS.PARTIAL)\n      }\n    },\n    async submitPartialAnswer() {\n      if (this.editMode) {\n        return\n      }\n      const totalTime = new Date().getTime() - this.startTime\n      const surveyAnswer = {\n        questions: this.answers,\n        response_time: totalTime > 0 ? totalTime : 0,\n        status: consts.INTERACTION_STATUS.PARTIAL,\n        interaction_uuid: this.interactionUUID,\n        language: this.language,\n        customer: this.customer,\n        interaction: this.interaction,\n      }\n\n      this.interactionUUID = await widgetUseCase.postPartialAnswer(this.widget.survey_public_hash, surveyAnswer)\n    },\n    async submitCompleteAnswer() {\n      if (!this.validateQuestion()) {\n        return\n      }\n      if (this.editMode) {\n        this.showThanksMessage = true\n        const vm = this\n        setTimeout(function() {\n          vm.clearWidget()\n        }, 2000)\n        return\n      }\n      const totalTime = new Date().getTime() - this.startTime\n      const surveyAnswer = {\n        questions: this.answers,\n        response_time: totalTime > 0 ? totalTime : 0,\n        status: consts.INTERACTION_STATUS.DONE,\n        interaction_uuid: this.interactionUUID,\n        language: this.language,\n        customer: this.customer,\n        interaction: this.interaction,\n      }\n      await widgetUseCase.postCompleteAnswer(this.widget.survey_public_hash, surveyAnswer)\n      this.showThanksMessage = true\n      const vm = this\n      setTimeout(function() {\n        vm.showWidget(false)\n      }, 2000)\n    },\n    getCurrentAnswer(questionIndex) {\n      const currentUuid = this.widget.survey.items[questionIndex].item_uuid\n      return this.answers.find(a => a.uuid === currentUuid) || null\n    },\n    validateQuestion() {\n      let validator = true\n\n      const question = this.widget.survey.items[this.currentIndex]\n      if (this.currentAnswer === null && (question.is_obligatory || question.jump_rules_enabled)) {\n        validator = false\n      } else if (this.currentAnswer !== null) {\n        if (question.is_obligatory || question.jump_rules_enabled) {\n          if (question.type !== consts.QUESTION_TYPE.OPEN && this.currentAnswer.answer.response.length === 0) {\n            validator = false\n          } else if (question.type === consts.QUESTION_TYPE.OPEN && this.currentAnswer.answer.comment === '') {\n            validator = false\n          }\n        }\n      }\n\n      if (!validator) {\n        this.showErrorMessage = true\n        const vm = this\n        setTimeout(function() {\n          vm.showErrorMessage = false\n        }, 3000)\n      }\n      return validator\n    },\n    clearWidget() {\n      this.currentIndex = 0\n      this.answers = []\n      this.startTime = 0\n      this.interactionUUID = null\n      this.showThanksMessage = false\n    },\n  },\n  created() {\n    this.startTime = new Date().getTime()\n\n    //Set user language\n    this.language = widgetUseCase.setLanguage(this.widget)\n  },\n}\n</script>\n<style scoped>\n.track-footer {\n  margin-bottom: 20px;\n  padding-left: 20px;\n  padding-right: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.track-question {\n  max-height: 500px;\n  overflow: auto;\n  padding: 20px;\n}\n.track-buttons {\n  display: flex;\n}\n.track-buttons > button {\n  margin-right: 10px;\n}\n.track-message {\n  padding: 20px;\n}\n.error {\n  color: #ea575f;\n  margin-bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/views/Widget"}]}