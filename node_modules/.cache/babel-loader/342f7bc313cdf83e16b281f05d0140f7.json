{"remainingRequest":"/home/track/workplace/a2/frontend/widget/node_modules/babel-loader/lib/index.js!/home/track/workplace/a2/frontend/widget/node_modules/eslint-loader/index.js??ref--13-0!/home/track/workplace/a2/frontend/widget/src/utils/survey.js","dependencies":[{"path":"/home/track/workplace/a2/frontend/widget/src/utils/survey.js","mtime":1618838230181},{"path":"/home/track/workplace/a2/frontend/widget/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/track/workplace/a2/frontend/widget/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/track/workplace/a2/frontend/widget/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNvbnN0cyBmcm9tICcuLi9jb25zdHMnOwoKZnVuY3Rpb24gZ2V0TlBTKHVzZXJSZXNwb25zZSkgewogIGlmICh1c2VyUmVzcG9uc2UgPiA4KSB7CiAgICByZXR1cm4gY29uc3RzLkpVTVBfTE9HSUNfUEFUSFMuUFJPTU9URVI7CiAgfSBlbHNlIGlmICh1c2VyUmVzcG9uc2UgPiA2KSB7CiAgICByZXR1cm4gY29uc3RzLkpVTVBfTE9HSUNfUEFUSFMuUEFTU0lWRTsKICB9IGVsc2UgewogICAgcmV0dXJuIGNvbnN0cy5KVU1QX0xPR0lDX1BBVEhTLkRFVFJBQ1RPUjsKICB9Cn0KCmZ1bmN0aW9uIGdldFplcm9Ub1Rlbih1c2VyUmVzcG9uc2UpIHsKICBpZiAodXNlclJlc3BvbnNlID4gOCkgewogICAgcmV0dXJuIGNvbnN0cy5KVU1QX0xPR0lDX1BBVEhTLlBST01PVEVSOwogIH0gZWxzZSBpZiAodXNlclJlc3BvbnNlID4gNikgewogICAgcmV0dXJuIGNvbnN0cy5KVU1QX0xPR0lDX1BBVEhTLlBBU1NJVkU7CiAgfSBlbHNlIHsKICAgIHJldHVybiBjb25zdHMuSlVNUF9MT0dJQ19QQVRIUy5ERVRSQUNUT1I7CiAgfQp9CgpmdW5jdGlvbiBnZXRPbmVUb1Rlbih1c2VyUmVzcG9uc2UpIHsKICBpZiAodXNlclJlc3BvbnNlID4gNikgewogICAgcmV0dXJuIGNvbnN0cy5KVU1QX0xPR0lDX1BBVEhTLlBST01PVEVSOwogIH0gZWxzZSBpZiAodXNlclJlc3BvbnNlID4gNCkgewogICAgcmV0dXJuIGNvbnN0cy5KVU1QX0xPR0lDX1BBVEhTLlBBU1NJVkU7CiAgfSBlbHNlIHsKICAgIHJldHVybiBjb25zdHMuSlVNUF9MT0dJQ19QQVRIUy5ERVRSQUNUT1I7CiAgfQp9CgpmdW5jdGlvbiBnZXRPbmVUb1NldmVuKHVzZXJSZXNwb25zZSkgewogIGlmICh1c2VyUmVzcG9uc2UgPiA0KSB7CiAgICByZXR1cm4gY29uc3RzLkpVTVBfTE9HSUNfUEFUSFMuUFJPTU9URVI7CiAgfSBlbHNlIGlmICh1c2VyUmVzcG9uc2UgPiAzKSB7CiAgICByZXR1cm4gY29uc3RzLkpVTVBfTE9HSUNfUEFUSFMuUEFTU0lWRTsKICB9IGVsc2UgewogICAgcmV0dXJuIGNvbnN0cy5KVU1QX0xPR0lDX1BBVEhTLkRFVFJBQ1RPUjsKICB9Cn0KCmZ1bmN0aW9uIGdldFplcm9Ub0ZpdmUodXNlclJlc3BvbnNlKSB7CiAgaWYgKHVzZXJSZXNwb25zZSA+IDMpIHsKICAgIHJldHVybiBjb25zdHMuSlVNUF9MT0dJQ19QQVRIUy5QUk9NT1RFUjsKICB9IGVsc2UgaWYgKHVzZXJSZXNwb25zZSA+IDEpIHsKICAgIHJldHVybiBjb25zdHMuSlVNUF9MT0dJQ19QQVRIUy5QQVNTSVZFOwogIH0gZWxzZSB7CiAgICByZXR1cm4gY29uc3RzLkpVTVBfTE9HSUNfUEFUSFMuREVUUkFDVE9SOwogIH0KfQoKZnVuY3Rpb24gZ2V0T25lVG9GaXZlKHVzZXJSZXNwb25zZSkgewogIGlmICh1c2VyUmVzcG9uc2UgPiAzKSB7CiAgICByZXR1cm4gY29uc3RzLkpVTVBfTE9HSUNfUEFUSFMuUFJPTU9URVI7CiAgfSBlbHNlIGlmICh1c2VyUmVzcG9uc2UgPiAyKSB7CiAgICByZXR1cm4gY29uc3RzLkpVTVBfTE9HSUNfUEFUSFMuUEFTU0lWRTsKICB9IGVsc2UgewogICAgcmV0dXJuIGNvbnN0cy5KVU1QX0xPR0lDX1BBVEhTLkRFVFJBQ1RPUjsKICB9Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyQ29udGV4dEJ5TWV0cmljKG1ldHJpY1R5cGUsIHVzZXJSZXNwb25zZSwgbWluU2NhbGUsIG1heFNjYWxlKSB7CiAgc3dpdGNoIChtZXRyaWNUeXBlKSB7CiAgICBjYXNlIGNvbnN0cy5RVUVTVElPTl9UWVBFLkNFUzoKICAgIGNhc2UgY29uc3RzLlFVRVNUSU9OX1RZUEUuQ0VTMjoKICAgIGNhc2UgY29uc3RzLlFVRVNUSU9OX1RZUEUuQ1NBVDoKICAgIGNhc2UgY29uc3RzLlFVRVNUSU9OX1RZUEUuRU1PSkk6CiAgICBjYXNlIGNvbnN0cy5RVUVTVElPTl9UWVBFLlJBVElOR1M6CiAgICAgIGlmIChtaW5TY2FsZSA9PT0gMCAmJiBtYXhTY2FsZSA9PT0gMTApIHsKICAgICAgICByZXR1cm4gZ2V0WmVyb1RvVGVuKHVzZXJSZXNwb25zZSk7CiAgICAgIH0gZWxzZSBpZiAobWluU2NhbGUgPT09IDEgJiYgbWF4U2NhbGUgPT09IDEwKSB7CiAgICAgICAgcmV0dXJuIGdldE9uZVRvVGVuKHVzZXJSZXNwb25zZSk7CiAgICAgIH0gZWxzZSBpZiAobWluU2NhbGUgPT09IDEgJiYgbWF4U2NhbGUgPT09IDcpIHsKICAgICAgICByZXR1cm4gZ2V0T25lVG9TZXZlbih1c2VyUmVzcG9uc2UpOwogICAgICB9IGVsc2UgaWYgKG1pblNjYWxlID09PSAwICYmIG1heFNjYWxlID09PSA1KSB7CiAgICAgICAgcmV0dXJuIGdldFplcm9Ub0ZpdmUodXNlclJlc3BvbnNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZ2V0T25lVG9GaXZlKHVzZXJSZXNwb25zZSk7CiAgICAgIH0KCiAgICBjYXNlIGNvbnN0cy5RVUVTVElPTl9UWVBFLk5QU19SRUxBVElPTkFMOgogICAgY2FzZSBjb25zdHMuUVVFU1RJT05fVFlQRS5OUFNfVFJBTlNBQ1RJT05BTDoKICAgICAgcmV0dXJuIGdldE5QUyh1c2VyUmVzcG9uc2UpOwoKICAgIGNhc2UgY29uc3RzLlFVRVNUSU9OX1RZUEUuVEhVTUJTOgogICAgICBpZiAodXNlclJlc3BvbnNlID4gMCkgewogICAgICAgIHJldHVybiBjb25zdHMuSlVNUF9MT0dJQ19QQVRIUy5QUk9NT1RFUjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gY29uc3RzLkpVTVBfTE9HSUNfUEFUSFMuREVUUkFDVE9SOwogICAgICB9CgogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIGNvbnN0cy5KVU1QX0xPR0lDX1BBVEhTLlBBU1NJVkU7CiAgfQp9"},{"version":3,"sources":["/home/track/workplace/a2/frontend/widget/src/utils/survey.js"],"names":["consts","getNPS","userResponse","JUMP_LOGIC_PATHS","PROMOTER","PASSIVE","DETRACTOR","getZeroToTen","getOneToTen","getOneToSeven","getZeroToFive","getOneToFive","getUserContextByMetric","metricType","minScale","maxScale","QUESTION_TYPE","CES","CES2","CSAT","EMOJI","RATINGS","NPS_RELATIONAL","NPS_TRANSACTIONAL","THUMBS"],"mappings":"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","sourcesContent":["import consts from '../consts'\n\nfunction getNPS (userResponse) {\n    if (userResponse > 8) {\n        return consts.JUMP_LOGIC_PATHS.PROMOTER\n    } else if (userResponse > 6) {\n        return consts.JUMP_LOGIC_PATHS.PASSIVE\n    } else {\n        return consts.JUMP_LOGIC_PATHS.DETRACTOR\n    }\n}\n\nfunction getZeroToTen (userResponse) {\n    if (userResponse > 8) {\n        return consts.JUMP_LOGIC_PATHS.PROMOTER\n    } else if (userResponse > 6) {\n        return consts.JUMP_LOGIC_PATHS.PASSIVE\n    } else {\n        return consts.JUMP_LOGIC_PATHS.DETRACTOR\n    }\n}\n\nfunction getOneToTen (userResponse) {\n    if (userResponse > 6) {\n        return consts.JUMP_LOGIC_PATHS.PROMOTER\n    } else if (userResponse > 4) {\n        return consts.JUMP_LOGIC_PATHS.PASSIVE\n    } else {\n        return consts.JUMP_LOGIC_PATHS.DETRACTOR\n    }\n}\n\nfunction getOneToSeven (userResponse) {\n    if (userResponse > 4) {\n        return consts.JUMP_LOGIC_PATHS.PROMOTER\n    } else if (userResponse > 3) {\n        return consts.JUMP_LOGIC_PATHS.PASSIVE\n    } else {\n        return consts.JUMP_LOGIC_PATHS.DETRACTOR\n    }\n}\n\nfunction getZeroToFive (userResponse) {\n    if (userResponse > 3) {\n        return consts.JUMP_LOGIC_PATHS.PROMOTER\n    } else if (userResponse > 1) {\n        return consts.JUMP_LOGIC_PATHS.PASSIVE\n    } else {\n        return consts.JUMP_LOGIC_PATHS.DETRACTOR\n    }\n}\n\nfunction getOneToFive (userResponse) {\n    if (userResponse > 3) {\n        return consts.JUMP_LOGIC_PATHS.PROMOTER\n    } else if (userResponse > 2) {\n        return consts.JUMP_LOGIC_PATHS.PASSIVE\n    } else {\n        return consts.JUMP_LOGIC_PATHS.DETRACTOR\n    }\n}\n\nexport function getUserContextByMetric (metricType, userResponse, minScale, maxScale) {\n    switch (metricType) {\n        case consts.QUESTION_TYPE.CES:\n        case consts.QUESTION_TYPE.CES2:\n        case consts.QUESTION_TYPE.CSAT:\n        case consts.QUESTION_TYPE.EMOJI:\n        case consts.QUESTION_TYPE.RATINGS:\n            if (minScale === 0 && maxScale === 10) {\n                return getZeroToTen(userResponse)\n            } else if (minScale === 1 && maxScale === 10) {\n                return getOneToTen(userResponse)\n            } else if (minScale === 1 && maxScale === 7) {\n                return getOneToSeven(userResponse)\n            } else if (minScale === 0 && maxScale === 5) {\n                return getZeroToFive(userResponse)\n            } else {\n                return getOneToFive(userResponse)\n            }\n        case consts.QUESTION_TYPE.NPS_RELATIONAL:\n        case consts.QUESTION_TYPE.NPS_TRANSACTIONAL:\n            return getNPS(userResponse)\n        case consts.QUESTION_TYPE.THUMBS:\n            if (userResponse > 0) {\n                return consts.JUMP_LOGIC_PATHS.PROMOTER\n            } else {\n                return consts.JUMP_LOGIC_PATHS.DETRACTOR\n            }\n        default:\n            return consts.JUMP_LOGIC_PATHS.PASSIVE\n    }\n}\n"]}]}