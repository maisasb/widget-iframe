{"remainingRequest":"/home/track/workplace/widget-iframe/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/track/workplace/widget-iframe/src/views/Widget/Widget.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/track/workplace/widget-iframe/src/views/Widget/Widget.vue","mtime":1629153367796},{"path":"/home/track/workplace/widget-iframe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/track/workplace/widget-iframe/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/track/workplace/widget-iframe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/track/workplace/widget-iframe/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCB1c2VJZnJhbWVDb250cm9sIGZyb20gIi4uLy4uL2hvb2tzL2lmcmFtZSI7CmltcG9ydCB7IERFTEFZX1RJTUUgfSBmcm9tICIuLi8uLi9jb25zdHMvdGltZSI7CmltcG9ydCB7IFdJREdFVF9NT0RFUyB9IGZyb20gIi4uLy4uL2NvbnN0cy9tb2RlIjsKaW1wb3J0IEljb24gZnJvbSAiLi4vLi4vY29tcG9uZW50cy9JY29uLnZ1ZSI7CmltcG9ydCBDb250ZW50IGZyb20gIi4vQ29udGVudC52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgSWNvbiwgQ29udGVudCB9LAogIHByb3BzOiB7CiAgICBjb25maWc6IE9iamVjdAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgY3VzdG9tZXI6IChzdGF0ZSkgPT4gc3RhdGUud2lkZ2V0LmN1c3RvbWVyLAogICAgICB0b2tlbjogKHN0YXRlKSA9PiBzdGF0ZS53aWRnZXQudG9rZW4sCiAgICAgIHNob3c6IChzdGF0ZSkgPT4gc3RhdGUud2lkZ2V0LnNob3csCiAgICAgIG1vZGU6IChzdGF0ZSkgPT4gc3RhdGUud2lkZ2V0Lm1vZGUsCiAgICAgIG1pbmltaXplZDogKHN0YXRlKSA9PiBzdGF0ZS53aWRnZXQubWluaW1pemVkCiAgICB9KSwKICAgIFdJREdFVF9NT0RFUygpIHsKICAgICAgcmV0dXJuIFdJREdFVF9NT0RFUzsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoewogICAgICBzZXRUb2tlbjogIndpZGdldC9zZXRUb2tlbiIsCiAgICAgIHNldEN1c3RvbWVyOiAid2lkZ2V0L3NldEN1c3RvbWVyIiwKICAgICAgc2hvd1dpZGdldDogIndpZGdldC9zaG93IiwKICAgICAgY2FuU2hvd1dpZGdldDogIndpZGdldC9jYW5TaG93V2lkZ2V0IiwKICAgICAgc2V0U2hvd0F0OiAid2lkZ2V0L3NldFNob3dBdCIsCiAgICAgIHNldE1pbmltaXplZDogIndpZGdldC9zZXRNaW5pbWl6ZWQiCiAgICB9KSwKICAgIGdldElmcmFtZURhdGEoKSB7CiAgICAgIGNvbnN0IGlmcmFtZSA9IHVzZUlmcmFtZUNvbnRyb2woKTsKICAgICAgaWZyYW1lLnVwZGF0ZURhdGFMaXN0ZW5lcigpOwogICAgICBpZnJhbWUuZ2V0VG9rZW5LZXkoKTsKICAgIH0sCiAgICBhc3luYyBzZXR1cCgpIHsKICAgICAgdGhpcy5nZXRJZnJhbWVEYXRhKCk7IC8vR2V0IGRhdGEgaW4gaWZyYW1lCiAgICAgIHRoaXMuY2FuU2hvd1dpZGdldCgpOwogICAgfSwKICAgIG1pbmltaXplV2lkZ2V0KG1pbmltaXplKSB7CiAgICAgIHRoaXMuc2V0TWluaW1pemVkKG1pbmltaXplKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldHVwKCk7CiAgfQp9Owo="},{"version":3,"sources":["Widget.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Widget.vue","sourceRoot":"src/views/Widget","sourcesContent":["<template>\n  <div v-if=\"show\">\n    <div :class=\"mode === WIDGET_MODES.EMBEBED ? 'widget-embebed' : 'widget-fixed'\" class=\"box\" v-if=\"!minimized\">\n      <div id=\"track__widget-close\" class=\"icon-close\">\n        <Icon name=\"Close\" color=\"#297ab5\" class=\"cursor-pointer\" :handleClick=\"() => minimizeWidget(true)\" />\n      </div>\n      <Content />\n    </div>\n    <div v-else class=\"widget-minimized\">\n      <Icon name=\"Open\" color=\"#297ab5\" class=\"cursor-pointer\" :handleClick=\"() => minimizeWidget(false)\" />\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions, mapState } from \"vuex\";\nimport useIframeControl from \"../../hooks/iframe\";\nimport { DELAY_TIME } from \"../../consts/time\";\nimport { WIDGET_MODES } from \"../../consts/mode\";\nimport Icon from \"../../components/Icon.vue\";\nimport Content from \"./Content.vue\";\n\nexport default {\n  components: { Icon, Content },\n  props: {\n    config: Object\n  },\n  computed: {\n    ...mapState({\n      customer: (state) => state.widget.customer,\n      token: (state) => state.widget.token,\n      show: (state) => state.widget.show,\n      mode: (state) => state.widget.mode,\n      minimized: (state) => state.widget.minimized\n    }),\n    WIDGET_MODES() {\n      return WIDGET_MODES;\n    }\n  },\n  methods: {\n    ...mapActions({\n      setToken: \"widget/setToken\",\n      setCustomer: \"widget/setCustomer\",\n      showWidget: \"widget/show\",\n      canShowWidget: \"widget/canShowWidget\",\n      setShowAt: \"widget/setShowAt\",\n      setMinimized: \"widget/setMinimized\"\n    }),\n    getIframeData() {\n      const iframe = useIframeControl();\n      iframe.updateDataListener();\n      iframe.getTokenKey();\n    },\n    async setup() {\n      this.getIframeData(); //Get data in iframe\n      this.canShowWidget();\n    },\n    minimizeWidget(minimize) {\n      this.setMinimized(minimize);\n    }\n  },\n  created() {\n    this.setup();\n  }\n};\n</script>\n<style scoped>\n.box {\n  background-color: white;\n  border-top-left-radius: 12px;\n  border-top-right-radius: 12px;\n  border: 1px solid transparent;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.25);\n}\n.widget-fixed {\n  position: fixed;\n  bottom: 0px;\n  right: 35px;\n  max-height: 600px;\n  max-width: 450px;\n  width: 360px;\n  z-index: 99999;\n}\n.widget-embebed {\n  position: relative;\n  width: 100%;\n  max-height: 600px;\n}\n.icon-close {\n  padding: 10px;\n  text-align: right;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.widget-minimized {\n  all: unset;\n  position: fixed;\n  right: 35px;\n  bottom: 0;\n  width: 56px;\n  height: 40px;\n  font-family: sans-serif;\n  z-index: 2000;\n  border-top-left-radius: 12px;\n  border-top-right-radius: 12px;\n  border: 1px solid transparent;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.25);\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n"]}]}